@{
    ViewBag.Title = "Home Page";
}
<div class="row">
    <form role="search" class="navbar-form" id="search">
        <div class="form-group">
            <input type="text" value="Matrix" placeholder="Search for Movie Title" class="form-control" name="search">
        </div>
        <button class="btn btn-default" type="submit">Search</button>
    </form>
</div>
<div class="row">
    <table id="results" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Movie</th>
                <th>Released</th>
                <th>Tagline</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script type="text/javascript">
    $(function () {
        function search() {
            var query = $("#search").find("input[name=search]").val();

            $.get("/searchcontroller?q=" + encodeURIComponent(query),
                    function (data) {
                        var t = $("table#results tbody").empty();
                        if (!data || data.length == 0) return;
                        data.forEach(function (row) {
                            var movie = row.movie;
                            $("<tr><td class='movie'>" + movie.title + "</td><td>" + movie.released + "</td><td>" + movie.tagline + "</td></tr>").appendTo(t)
                                    .click(function () { showMovie($(this).find("td.movie").text()); })
                        });
                        showMovie(data[0].movie.title);
                    }, "json");
            return false;
        }

        $("#search").submit(search);
        search();
    })
</script>