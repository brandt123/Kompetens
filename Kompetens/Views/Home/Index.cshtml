@{
    ViewBag.Title = "Home Page";
}
<div class="row">
    <form role="search" class="navbar-form" id="search">
        <div class="form-group">
            <input type="text" value="Matrix" placeholder="Search for Movie Title" class="form-control" name="search">
        </div>
        <button class="btn btn-default" type="submit">Search</button>
    </form>
</div>
<div class="row">
    <table id="resultsProject" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Project</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<div class="row">
    <table id="resultsEmployee" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Employee</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script type="text/javascript">
    $(function () {
        function search() {
            var query = $("#search").find("input[name=search]").val();

            $.get("/searchcontroller?q=" + encodeURIComponent(query),
                    function (data) {
                        var p = $("table#resultsProject tbody").empty();
                        var e = $("table#resultsEmployee tbody").empty();
                        if (!data || data.length == 0) return;
                        data.forEach(function (row) {
                            
                            var movie = row.movie;
                            if (movie.label == "Project") {
                                $("<tr><td class='movie'>" + movie.name + "</td><td>" + movie.label + "</td><td>").appendTo(p)
                                        .click(function () { showMovie($(this).find("td.movie").text()); })
                            }
                            if (movie.label == "Employee") {
                                $("<tr><td class='movie'>" + movie.name + "</td><td>" + movie.label + "</td><td>").appendTo(e)
                                        .click(function () { showMovie($(this).find("td.movie").text()); })
                            }
                        });
                        showMovie(data[0].movie.title);
                    }, "json");
            return false;
        }

        $("#search").submit(search);
        search();
    })
</script>